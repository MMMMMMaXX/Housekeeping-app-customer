(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1465b60c"],{"6c8e":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"orderDetail"},[r("van-sticky",[r("van-nav-bar",{attrs:{title:"订单详情","left-text":"返回","left-arrow":""},on:{"click-left":e.onClickLeft}})],1),r("div",{staticClass:"Detailcontent"},[e._l(e.orderData,(function(t,s){return r("van-card",{key:s,staticClass:"OrderWrap",attrs:{price:t.price+".00",num:t.number,desc:t.product.description,title:t.product.name,thumb:e.orderCustomer.userFace}})})),""!=e.orderData?r("van-cell-group",{attrs:{border:""}},[r("van-cell",[r("div",{staticClass:"Sum"},[e._v(" 总计: "),r("span",{staticClass:"money"},[e._v("￥"+e._s(this.sum))])])])],1):e._e(),r("van-sticky",[r("div",{staticClass:"d_content"},["待接单"===e.status?r("span",{staticStyle:{color:"red","margin-right":"20px","font-size":"13px"}},[e._v(" "+e._s(e.status)+" ")]):"待派单"===e.status?r("span",{staticStyle:{color:"purple","margin-right":"20px","font-size":"13px"}},[e._v(" "+e._s(e.status)+" ")]):"待确认"===e.status||"待服务"===e.status?r("span",{staticStyle:{color:"orange","margin-right":"20px","font-size":"13px"}},[e._v(" "+e._s(e.status)+" ")]):"待支付"===e.status?r("span",{staticStyle:{color:"red","margin-right":"20px","font-size":"13px"}},[e._v(" "+e._s(e.status)+" ")]):r("span",{staticStyle:{color:"green","margin-right":"20px","font-size":"13px"}},[e._v(" "+e._s(e.status)+" ")]),r("p",[e._v(" 服务地址："+e._s(e.orderAddress.province+e.orderAddress.city+e.orderAddress.area+e.orderAddress.address)+" ")]),r("p",[e._v(" 联系方式："+e._s(e.orderCustomer.username)+" ("+e._s(e.orderCustomer.telephone)+") ")]),r("p",[e._v(" 下单时间： "+e._s(e.moment(Number(e.orderTime)).format("YYYY/MM/DD HH:mm:ss a"))+" ")]),r("p",[e._v(" 服务时间： "+e._s(e.moment(e.serveTime).format("YYYY/MM/DD HH:mm:ss a"))+" ")])]),"待确认"!=this.status&&"已完成"!=this.status?r("van-button",{staticClass:"cancelButton",attrs:{color:"linear-gradient(to right,#ec6f66, #f3a183)"},on:{click:function(t){return e.cancelOrder(e.orderid)}}},[e._v(" 取消订单 ")]):e._e(),"待确认"==this.status?r("van-button",{staticClass:"cancelButton",attrs:{color:"linear-gradient(to right,#ec6f66, #f3a183)"},on:{click:function(t){return e.OklOrder(e.orderid)}}},[e._v(" 完成服务 ")]):e._e()],1),""==e.orderData?r("van-empty",{attrs:{description:"该订单无数据"}}):e._e(),r("div",{staticStyle:{height:"100px"}})],2)],1)},a=[],n=r("1da1"),o=r("5530"),c=(r("96cf"),r("dac6")),i=r("2f62"),d=r("c1df"),u={data:function(){return{moment:d,sum:this.$route.query.total,orderid:this.$route.query.orderId,orderData:[],orderAddress:{},orderCustomer:{},serveTime:"",orderTime:this.$route.query.orderTime,status:this.$route.query.status}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])("order",["getAllorderData"])),{},{onClickLeft:function(){this.$router.go(-1)},qureyDataById:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.orderid},t.next=3,Object(c["a"])("/order/findById",Object(o["a"])({},r));case 3:s=t.sent,e.orderData=s.data.data.orderLines,e.orderAddress=s.data.data.address,e.orderCustomer=s.data.data.customer,e.serveTime=s.data.data.serviceTime,console.log(e.orderData);case 9:case"end":return t.stop()}}),t)})))()},OklOrder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={orderId:JSON.parse(e.orderid)},console.log(r),t.next=4,Object(c["a"])("/order/confirmOrder",Object(o["a"])({},r));case 4:s=t.sent,200===s.status?(e.$notify({message:"成功确认完成服务订单",type:"success"}),setTimeout((function(){e.$router.go(-1),e.getAllorderData()}),600)):e.$notify({message:s.data.message,type:"danger"}),console.log(s,"com");case 7:case"end":return t.stop()}}),t)})))()},cancelOrder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.orderid},console.log(11111111),t.next=4,Object(c["a"])("/order/deleteById?",Object(o["a"])({},r));case 4:s=t.sent,200===s.status?(e.$notify({message:"成功取消订单",type:"success"}),setTimeout((function(){e.$router.go(-1),e.getAllorderData()}),600)):e.$notify({message:s.data.message,type:"danger"}),console.log(s);case 7:case"end":return t.stop()}}),t)})))()}}),created:function(){this.qureyDataById()}},l=u,m=(r("cc1a"),r("2877")),p=Object(m["a"])(l,s,a,!1,null,null,null);t["default"]=p.exports},cc1a:function(e,t,r){"use strict";r("e4ec")},e4ec:function(e,t,r){}}]);
//# sourceMappingURL=chunk-1465b60c.6fbed47b.js.map