{"version":3,"sources":["webpack:///./src/views/Orderdetail/orderdetail.vue?87d8","webpack:///src/views/Orderdetail/orderdetail.vue","webpack:///./src/views/Orderdetail/orderdetail.vue?a53f","webpack:///./src/views/Orderdetail/orderdetail.vue","webpack:///./src/views/Orderdetail/orderdetail.vue?d318"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","_l","order","index","key","price","number","product","description","name","orderCustomer","userFace","orderData","_v","_s","sum","_e","status","staticStyle","orderAddress","province","city","area","address","username","telephone","moment","Number","orderTime","format","serveTime","$event","cancelOrder","orderid","OklOrder","staticRenderFns","data","$route","query","total","orderId","methods","$router","go","created","qureyDataById","component"],"mappings":"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","file":"static/js/chunk-1465b60c.6fbed47b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderDetail\"},[_c('van-sticky',[_c('van-nav-bar',{attrs:{\"title\":\"订单详情\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}})],1),_c('div',{staticClass:\"Detailcontent\"},[_vm._l((_vm.orderData),function(order,index){return _c('van-card',{key:index,staticClass:\"OrderWrap\",attrs:{\"price\":order.price + '.00',\"num\":order.number,\"desc\":order.product.description,\"title\":order.product.name,\"thumb\":_vm.orderCustomer.userFace}})}),(_vm.orderData != '')?_c('van-cell-group',{attrs:{\"border\":\"\"}},[_c('van-cell',[_c('div',{staticClass:\"Sum\"},[_vm._v(\" 总计: \"),_c('span',{staticClass:\"money\"},[_vm._v(\"￥\"+_vm._s(this.sum))])])])],1):_vm._e(),_c('van-sticky',[_c('div',{staticClass:\"d_content\"},[(_vm.status === '待接单')?_c('span',{staticStyle:{\"color\":\"red\",\"margin-right\":\"20px\",\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.status)+\" \")]):(_vm.status === '待派单')?_c('span',{staticStyle:{\"color\":\"purple\",\"margin-right\":\"20px\",\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.status)+\" \")]):(_vm.status === '待确认')?_c('span',{staticStyle:{\"color\":\"orange\",\"margin-right\":\"20px\",\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.status)+\" \")]):(_vm.status === '待服务')?_c('span',{staticStyle:{\"color\":\"orange\",\"margin-right\":\"20px\",\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.status)+\" \")]):(_vm.status === '待支付')?_c('span',{staticStyle:{\"color\":\"red\",\"margin-right\":\"20px\",\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.status)+\" \")]):_c('span',{staticStyle:{\"color\":\"green\",\"margin-right\":\"20px\",\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.status)+\" \")]),_c('p',[_vm._v(\" 服务地址：\"+_vm._s(_vm.orderAddress.province + _vm.orderAddress.city + _vm.orderAddress.area + _vm.orderAddress.address)+\" \")]),_c('p',[_vm._v(\" 联系方式：\"+_vm._s(_vm.orderCustomer.username)+\" (\"+_vm._s(_vm.orderCustomer.telephone)+\") \")]),_c('p',[_vm._v(\" 下单时间： \"+_vm._s(_vm.moment(Number(_vm.orderTime)).format(\"YYYY/MM/DD HH:mm:ss a\"))+\" \")]),_c('p',[_vm._v(\" 服务时间： \"+_vm._s(_vm.moment(_vm.serveTime).format(\"YYYY/MM/DD HH:mm:ss a\"))+\" \")])]),(this.status != '待确认' && this.status != '已完成')?_c('van-button',{staticClass:\"cancelButton\",attrs:{\"color\":\"linear-gradient(to right,#ec6f66, #f3a183)\"},on:{\"click\":function($event){return _vm.cancelOrder(_vm.orderid)}}},[_vm._v(\" 取消订单 \")]):_vm._e(),(this.status == '待确认')?_c('van-button',{staticClass:\"cancelButton\",attrs:{\"color\":\"linear-gradient(to right,#ec6f66, #f3a183)\"},on:{\"click\":function($event){return _vm.OklOrder(_vm.orderid)}}},[_vm._v(\" 完成服务 \")]):_vm._e()],1),(_vm.orderData == '')?_c('van-empty',{attrs:{\"description\":\"该订单无数据\"}}):_vm._e(),_c('div',{staticStyle:{\"height\":\"100px\"}})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"orderDetail\">\r\n    <van-sticky>\r\n      <van-nav-bar\r\n        title=\"订单详情\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        @click-left=\"onClickLeft\"\r\n      />\r\n    </van-sticky>\r\n    <div class=\"Detailcontent\">\r\n      <van-card\r\n        class=\"OrderWrap\"\r\n        v-for=\"(order, index) in orderData\"\r\n        :key=\"index\"\r\n        :price=\"order.price + '.00'\"\r\n        :num=\"order.number\"\r\n        :desc=\"order.product.description\"\r\n        :title=\"order.product.name\"\r\n        :thumb=\"orderCustomer.userFace\"\r\n      >\r\n      </van-card>\r\n      <van-cell-group border v-if=\"orderData != ''\">\r\n        <van-cell>\r\n          <div class=\"Sum\">\r\n            总计:\r\n            <span class=\"money\">￥{{ this.sum }}</span>\r\n          </div>\r\n        </van-cell>\r\n      </van-cell-group>\r\n      <van-sticky>\r\n        <div class=\"d_content\">\r\n          <span\r\n            v-if=\"status === '待接单'\"\r\n            style=\"color: red; margin-right: 20px; font-size: 13px\"\r\n          >\r\n            {{ status }}\r\n          </span>\r\n          <span\r\n            v-else-if=\"status === '待派单'\"\r\n            style=\"color: purple; margin-right: 20px; font-size: 13px\"\r\n          >\r\n            {{ status }}\r\n          </span>\r\n          <span\r\n            v-else-if=\"status === '待确认'\"\r\n            style=\"color: orange; margin-right: 20px; font-size: 13px\"\r\n          >\r\n            {{ status }}\r\n          </span>\r\n          <span\r\n            v-else-if=\"status === '待服务'\"\r\n            style=\"color: orange; margin-right: 20px; font-size: 13px\"\r\n          >\r\n            {{ status }}\r\n          </span>\r\n          <span\r\n            v-else-if=\"status === '待支付'\"\r\n            style=\"color: red; margin-right: 20px; font-size: 13px\"\r\n          >\r\n            {{ status }}\r\n          </span>\r\n          <span\r\n            v-else\r\n            style=\"color: green; margin-right: 20px; font-size: 13px\"\r\n          >\r\n            {{ status }}\r\n          </span>\r\n          <p>\r\n            服务地址：{{\r\n              orderAddress.province +\r\n              orderAddress.city +\r\n              orderAddress.area +\r\n              orderAddress.address\r\n            }}\r\n          </p>\r\n          <p>\r\n            联系方式：{{ orderCustomer.username }}&nbsp;({{\r\n              orderCustomer.telephone\r\n            }})\r\n          </p>\r\n          <p>\r\n            下单时间：\r\n            {{ moment(Number(orderTime)).format(\"YYYY/MM/DD HH:mm:ss a\") }}\r\n          </p>\r\n          <p>\r\n            服务时间：\r\n            {{ moment(serveTime).format(\"YYYY/MM/DD HH:mm:ss a\") }}\r\n          </p>\r\n        </div>\r\n        <van-button\r\n          class=\"cancelButton\"\r\n          @click=\"cancelOrder(orderid)\"\r\n          color=\"linear-gradient(to right,#ec6f66, #f3a183)\"\r\n          v-if=\"this.status != '待确认' && this.status != '已完成'\"\r\n        >\r\n          取消订单\r\n        </van-button>\r\n        <van-button\r\n          class=\"cancelButton\"\r\n          @click=\"OklOrder(orderid)\"\r\n          color=\"linear-gradient(to right,#ec6f66, #f3a183)\"\r\n          v-if=\"this.status == '待确认'\"\r\n        >\r\n          完成服务\r\n        </van-button>\r\n      </van-sticky>\r\n\r\n      <van-empty description=\"该订单无数据\" v-if=\"orderData == ''\"></van-empty>\r\n      <div style=\"height: 100px\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { get } from \"@/http/axios\";\r\nimport { mapActions } from \"vuex\";\r\nlet moment = require(\"moment\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      moment,\r\n      sum: this.$route.query.total,\r\n      orderid: this.$route.query.orderId,\r\n      orderData: [],\r\n      orderAddress: {},\r\n      orderCustomer: {},\r\n      serveTime: \"\",\r\n      orderTime: this.$route.query.orderTime,\r\n      status: this.$route.query.status,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"order\", [\"getAllorderData\"]),\r\n    // 返回上一个页面\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 通过id查询订单\r\n    async qureyDataById() {\r\n      let data = {\r\n        id: this.orderid,\r\n      };\r\n      let res = await get(\"/order/findById\", { ...data });\r\n      this.orderData = res.data.data.orderLines;\r\n      this.orderAddress = res.data.data.address;\r\n      this.orderCustomer = res.data.data.customer;\r\n      this.serveTime = res.data.data.serviceTime;\r\n      console.log(this.orderData);\r\n    },\r\n    // 确认完成服务\r\n    async OklOrder() {\r\n      let data = {\r\n        orderId: JSON.parse(this.orderid),\r\n      };\r\n      console.log(data);\r\n      let res = await get(\"/order/confirmOrder\", { ...data });\r\n      if (res.status === 200) {\r\n        this.$notify({\r\n          message: \"成功确认完成服务订单\",\r\n          type: \"success\",\r\n        });\r\n        setTimeout(() => {\r\n          this.$router.go(-1);\r\n          this.getAllorderData();\r\n        }, 600);\r\n      } else {\r\n        this.$notify({\r\n          message: res.data.message,\r\n          type: \"danger\",\r\n        });\r\n      }\r\n      console.log(res, \"com\");\r\n    },\r\n    // 通过id取消订单\r\n    async cancelOrder() {\r\n      let data = {\r\n        id: this.orderid,\r\n      };\r\n      console.log(11111111);\r\n      let res = await get(\"/order/deleteById?\", { ...data });\r\n      if (res.status === 200) {\r\n        this.$notify({\r\n          message: \"成功取消订单\",\r\n          type: \"success\",\r\n        });\r\n        setTimeout(() => {\r\n          this.$router.go(-1);\r\n          this.getAllorderData();\r\n        }, 600);\r\n      } else {\r\n        this.$notify({\r\n          message: res.data.message,\r\n          type: \"danger\",\r\n        });\r\n      }\r\n      console.log(res);\r\n    },\r\n  },\r\n  created() {\r\n    this.qureyDataById();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.cancelButton {\r\n  float: right;\r\n  width: 30%;\r\n  top: 10px;\r\n  position: relative;\r\n  right: 10px;\r\n}\r\n.OrderWrap img {\r\n  border-radius: 8px;\r\n}\r\n.Sum {\r\n  float: right;\r\n}\r\n.money {\r\n  color: red;\r\n  font-size: 16px;\r\n}\r\n.van-cell-group {\r\n  border-top: 1px solid #f2f3f5;\r\n  border-bottom: 1px solid #f2f3f5;\r\n  top: 20px;\r\n}\r\n.OrderWrap .van-card__title {\r\n  color: black;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  line-height: 25px;\r\n}\r\n.OrderWrap .van-card__content,\r\n.OrderWrap .van-card__desc {\r\n  line-height: 25px;\r\n  color: #999;\r\n}\r\n.OrderWrap .van-card__price {\r\n  font-weight: 500;\r\n  color: red;\r\n}\r\n.OrderWrap .van-card__num {\r\n  float: right;\r\n  color: black;\r\n\r\n  font-size: 14px;\r\n}\r\n.d_content {\r\n  position: relative;\r\n  background: #fafafa;\r\n  color: #999;\r\n  font-size: 12px;\r\n  clear: both;\r\n  padding-top: 10px;\r\n  margin-top: 30px;\r\n  min-height: 150px;\r\n}\r\n.d_content p {\r\n  margin-left: 10px;\r\n  padding: 5px 0;\r\n}\r\n.d_content span {\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  margin-right: 5px;\r\n}\r\n.OrderWrap {\r\n  width: 93%;\r\n  left: 3%;\r\n  border-radius: 5px;\r\n  top: 10px;\r\n  background: #fafafa;\r\n  color: #999;\r\n  box-shadow: 2px 2px 2px 2px rgb(236, 111, 102);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderdetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderdetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderdetail.vue?vue&type=template&id=76ecc674&\"\nimport script from \"./orderdetail.vue?vue&type=script&lang=js&\"\nexport * from \"./orderdetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderdetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderdetail.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}