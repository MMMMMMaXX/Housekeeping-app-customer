{"version":3,"sources":["webpack:///./src/views/Order/order.vue?b86e","webpack:///./src/views/Order/order.vue?944a","webpack:///src/views/Order/order.vue","webpack:///./src/views/Order/order.vue?7892","webpack:///./src/views/Order/order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onChange","model","value","callback","$$v","active","expression","_l","order","index","key","id","address","province","city","area","customer","username","userFace","$event","toDetail","status","orderTime","total","scopedSlots","_u","fn","_v","_s","moment","format","proxy","orderArr","tab_title","_e","staticStyle","staticRenderFns","data","queryList","page","pageSize","computed","methods","queryData","$router","push","path","query","orderId","activeKey","created","getUserInfo","then","component"],"mappings":"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","file":"static/js/chunk-1ecd93e2.630f465c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order\"},[_c('div',{staticClass:\"Orderheder\"},[_c('van-sticky',[_c('van-tabs',{attrs:{\"animated\":\"\",\"swipeable\":\"\",\"sticky\":\"\",\"title-active-color\":\"red\"},on:{\"change\":_vm.onChange},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"全部订单\",\"name\":\"all\"}}),_c('van-tab',{attrs:{\"title\":\"待派单\",\"name\":\"send\"}}),_c('van-tab',{attrs:{\"title\":\"待接单\",\"name\":\"take\"}}),_c('van-tab',{attrs:{\"title\":\"待服务\",\"name\":\"serve\"}}),_c('van-tab',{attrs:{\"title\":\"待确认\",\"name\":\"confirm\"}}),_c('van-tab',{attrs:{\"title\":\"已完成\",\"name\":\"complete\"}})],1)],1)],1),_c('div',{staticClass:\"Ordercontent\"},[_vm._l((_vm.orderArr),function(order,index){return _c('van-card',{key:order.id,staticClass:\"Order_warp\",attrs:{\"desc\":order.address.province +\n        order.address.city +\n        order.address.area +\n        order.address.address,\"title\":order.customer.username,\"thumb\":order.customer.userFace},on:{\"click\":function($event){return _vm.toDetail(order.status, order.orderTime, order.total, order.id, index)}},scopedSlots:_vm._u([{key:\"tags\",fn:function(){return [_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"success\"}},[_vm._v(\" \"+_vm._s(_vm.moment(order.orderTime).format(\"YYYY-MM-DD HH:mm:ss a\"))+\" \")]),_c('br'),_c('van-tag',{staticClass:\"tag_r\",attrs:{\"plain\":\"\",\"type\":\"warning\"}},[_vm._v(\" \"+_vm._s(order.status)+\" \")])]},proxy:true},{key:\"footer\",fn:function(){return [_vm._v(\" ￥\"+_vm._s(order.total)+\" \")]},proxy:true}],null,true)})}),(_vm.orderArr == '' && this.tab_title.status == '全部订单')?_c('van-empty',{attrs:{\"description\":\"您没有订单\"}}):(_vm.orderArr == '' && this.tab_title.status == '待派单')?_c('van-empty',{attrs:{\"description\":\"您没有待派单订单\"}}):(_vm.orderArr == '' && this.tab_title.status == '待接单')?_c('van-empty',{attrs:{\"description\":\"您没有待接单订单\"}}):(_vm.orderArr == '' && this.tab_title.status == '待服务')?_c('van-empty',{attrs:{\"description\":\"您没有待服务订单\"}}):(_vm.orderArr == '' && this.tab_title.status == '待确认')?_c('van-empty',{attrs:{\"description\":\"您没有待确认订单\"}}):(_vm.orderArr == '' && this.tab_title.status == '已完成')?_c('van-empty',{attrs:{\"description\":\"您没有已完成订单\"}}):_vm._e(),_c('div',{staticStyle:{\"height\":\"100px\"}})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"order\">\r\n    <div class=\"Orderheder\">\r\n      <van-sticky>\r\n        <van-tabs\r\n          v-model=\"active\"\r\n          animated\r\n          swipeable\r\n          sticky\r\n          title-active-color=\"red\"\r\n          @change=\"onChange\"\r\n        >\r\n          <van-tab title=\"全部订单\" name=\"all\"> </van-tab>\r\n          <van-tab title=\"待派单\" name=\"send\"> </van-tab>\r\n          <van-tab title=\"待接单\" name=\"take\"> </van-tab>\r\n          <van-tab title=\"待服务\" name=\"serve\"> </van-tab>\r\n          <van-tab title=\"待确认\" name=\"confirm\"> </van-tab>\r\n          <van-tab title=\"已完成\" name=\"complete\"> </van-tab>\r\n        </van-tabs>\r\n      </van-sticky>\r\n    </div>\r\n    <div class=\"Ordercontent\">\r\n      <van-card\r\n        class=\"Order_warp\"\r\n        v-for=\"(order, index) in orderArr\"\r\n        :key=\"order.id\"\r\n        :desc=\"\r\n          order.address.province +\r\n          order.address.city +\r\n          order.address.area +\r\n          order.address.address\r\n        \"\r\n        :title=\"order.customer.username\"\r\n        :thumb=\"order.customer.userFace\"\r\n        @click=\"\r\n          toDetail(order.status, order.orderTime, order.total, order.id, index)\r\n        \"\r\n      >\r\n        <template #tags>\r\n          <van-tag plain type=\"success\">\r\n            {{ moment(order.orderTime).format(\"YYYY-MM-DD HH:mm:ss a\") }}\r\n          </van-tag>\r\n          <br />\r\n          <van-tag plain type=\"warning\" class=\"tag_r\">\r\n            {{ order.status }}\r\n          </van-tag>\r\n        </template>\r\n        <template #footer> ￥{{ order.total }} </template>\r\n      </van-card>\r\n      <van-empty\r\n        description=\"您没有订单\"\r\n        v-if=\"orderArr == '' && this.tab_title.status == '全部订单'\"\r\n      ></van-empty>\r\n      <van-empty\r\n        description=\"您没有待派单订单\"\r\n        v-else-if=\"orderArr == '' && this.tab_title.status == '待派单'\"\r\n      ></van-empty>\r\n      <van-empty\r\n        description=\"您没有待接单订单\"\r\n        v-else-if=\"orderArr == '' && this.tab_title.status == '待接单'\"\r\n      ></van-empty>\r\n      <van-empty\r\n        description=\"您没有待服务订单\"\r\n        v-else-if=\"orderArr == '' && this.tab_title.status == '待服务'\"\r\n      ></van-empty>\r\n      <van-empty\r\n        description=\"您没有待确认订单\"\r\n        v-else-if=\"orderArr == '' && this.tab_title.status == '待确认'\"\r\n      ></van-empty>\r\n      <van-empty\r\n        description=\"您没有已完成订单\"\r\n        v-else-if=\"orderArr == '' && this.tab_title.status == '已完成'\"\r\n      ></van-empty>\r\n      <div style=\"height: 100px\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nlet moment = require(\"moment\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      moment,\r\n      active: \"all\",\r\n      tab_title: \"全部订单\",\r\n      orderArr: [],\r\n      queryList: {\r\n        page: 1,\r\n        pageSize: 100,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"userInfo\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"user\", [\"getUserInfo\"]),\r\n    ...mapActions(\"order\", [\"getAllorderData\"]),\r\n    // 改变标签页时\r\n    onChange(name, title) {\r\n      this.tab_title = { status: title };\r\n      // 重新获取页面数据\r\n      this.queryData(this.queryList);\r\n    },\r\n    // 查询订单数据\r\n    async queryData(querylist) {\r\n      if (this.tab_title.status != \"全部订单\") {\r\n        // console.log({ ...querylist, ...this.tab_title });\r\n        this.getAllorderData({ ...querylist, ...this.tab_title })\r\n          .then((res) => {\r\n            this.orderArr = res.data.data.list;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      } else {\r\n        this.getAllorderData(querylist)\r\n          .then((res) => {\r\n            this.orderArr = res.data.data.list;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    },\r\n    // 跳转每个订单详情页面\r\n    toDetail(status, orderTime, total, orderId, activeKey) {\r\n      // 路由跳转\r\n      this.$router.push({\r\n        // path\r\n        path: \"/manager/detail\",\r\n        // 传值\r\n        query: {\r\n          total,\r\n          orderId,\r\n          activeKey,\r\n          orderTime,\r\n          status,\r\n        },\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    //console.log(this.queryList);\r\n\r\n    this.getUserInfo().then((r) => {\r\n      this.queryList.customerId = this.userInfo.id;\r\n      // 获取订单数据\r\n      this.queryData(this.queryList);\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.Order_warp .van-card__title {\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n}\r\n.Order_warp .van-card__footer {\r\n  font-size: 15px;\r\n}\r\n.Order_warp img {\r\n  border-radius: 50% !important;\r\n}\r\n.Order_warp .van-card__title {\r\n  line-height: 25px;\r\n}\r\n.Order_warp .van-card__desc {\r\n  max-height: 28px;\r\n  line-height: 28px;\r\n}\r\n.van-tag {\r\n  line-height: 25px;\r\n}\r\n.tag_r {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n}\r\n.Order_warp {\r\n  width: 93%;\r\n  left: 3%;\r\n  border-radius: 10px;\r\n  top: 15px;\r\n  background: #fafafa;\r\n  box-shadow: 2px 2px 2px 2px rgb(236, 111, 102);\r\n  color: black;\r\n}\r\n.van-card:not(:first-child) {\r\n  margin-top: 15px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=1fad290e&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}